<% content_for :title, "MINI - Configure your car" %>

<div ng-app="carApp" ng-controller="OptionsListCtrl" ng-init="init(<%=@colors.to_json%>,<%=@wheels.to_json%>,<%=@interiors.to_json%>,<%=@equips.to_json%>)" class="customizer-container large-9 fade" ng-class="{in:true}" >

		<div class="customizer-left large-9 columns">
      <div class="viewport" ng-style="viewportBackground()">
        <div class="view-buttons">
          <a href="#" ng-click="viewPortSelected='front';" class="button tiny radius">Front</a>
          <a href="#" ng-click="viewPortSelected='rear';"  class="button tiny radius">Rear</a>
          <a href="#" ng-click="viewPortSelected='interior';"  class="button tiny radius">Interior</a>
        </div>
      </div> <!-- viewport -->
      <br />
      <ul class="tabs" data-tab>
        <li ng-click="toFrontView()" class="tab-title active"><a href="#panel-colors">Colors</a></li>
        <li ng-click="toFrontView()" class="tab-title"><a href="#panel-wheels">Wheels</a></li>
        <li ng-click="viewPortSelected='interior';" class="tab-title"><a href="#panel-interior">Interior</a></li>
        <li class="tab-title"><a href="#panel-equipment">Equipment</a></li>
      </ul>
      <div class="tabs-content">
        <div class="content active" id="panel-colors">
          <div ng-repeat="color in colors" back-img="{{color.icon}}" ng-click="pickColor($index,color)" data-tooltip title="<strong>{{color.name}}</strong> <p>{{color.desc}}</p>" class="has-tip tip-top choice" ng-class="{'selected' : $index == colorSelected}">          
          </div>
        </div>    
        <div class="content" id="panel-wheels">
          <div ng-repeat="wheel in wheels" back-img="{{wheel.icon}}" ng-click="pickWheel($index,wheel)" data-tooltip title="<strong>{{wheel.name}}</strong> <p>{{wheel.desc}}</p>" class="has-tip tip-top choice" ng-class="{'selected' : $index == wheelSelected}">          
          </div>
        </div>  
        <div class="content" id="panel-interior">
          <div ng-repeat="interior in interiors" back-img="{{interior.icon}}" ng-click="pickInterior($index,interior)" data-tooltip title="<strong>{{interior.name}}</strong> <p>{{interior.desc}}</p>" class="has-tip tip-top choice" ng-class="{'selected' : $index == interiorSelected}">          
          </div>
        </div>
        <div class="content" id="panel-equipment">
          <div ng-repeat="equip in equips" back-img="{{equip.icon}}" ng-click="toggleEquipment(equip)" data-tooltip title="<strong>{{equip.name}}</strong> <p>{{equip.desc}}</p>" class="has-tip tip-top choice" ng-class="{'selected' : hasEquipment(equip)}">            
          </div>
<!--           <form>
            <input ng-click="toggleEquipment(<%=@equip1%>)" class="equipment" name="equipment" value="equipment1" type="checkbox" checked />Six Speed Automatic
            <input ng-click="toggleEquipment(<%=@equip2%>)" class="equipment" name="equipment" value="equipment2" type="checkbox"  />Chrome Line Exterior
            <input ng-click="toggleEquipment(<%=@equip3%>)" class="equipment" name="equipment" value="equipment3" type="checkbox"  />Sports Suspension
          </form> -->
        </div>
      </div>
		</div> <!-- customizer-left -->

		<div class="customizer-right large-3 columns">
			<div>
				<h1>Options</h1>
        <ul>
          <li ng-repeat="option in options track by $index">
            {{option.name}} -- {{option.price}}
          </li>
        </ul>
        <h3>Total MSRP: {{total | number:2}}</h3>
			</div>
		</div> <!-- customizer-right -->

</div>