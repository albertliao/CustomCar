<% content_for :title, "MINI - Configure your car" %>

<div ng-app="carApp" ng-controller="OptionsListCtrl" ng-init="init(<%=@colors.to_json%>)" class="customizer-container large-9">

		<div class="customizer-left large-9 columns">
      <div class="viewport" ng-style="viewportBackground()">
        <div class="view-buttons">
          <a href="#" onclick="buttonFront()" class="button tiny">Front</a>
          <a href="#" onclick="buttonBack()" class="button tiny">Back</a>
          <a href="#" onclick="buttonInt()" class="button tiny">Interior</a>
        </div>
      </div> <!-- viewport -->
      <br />
      <ul class="tabs" data-tab>
        <li class="tab-title active"><a href="#panel-colors">Colors</a></li>
        <li class="tab-title"><a href="#panel-wheels">Wheels</a></li>
        <li class="tab-title"><a href="#panel-equipment">Equipment</a></li>
      </ul>
      <div class="tabs-content">
        <div class="content active" id="panel-colors">
          <div ng-repeat="color in colors" back-img="{{color.icon}}" ng-click="pickColor($index,color)" data-tooltip title="{{color.name}}" class="has-tip tip-top color-choice" ng-class="{'color-selected' : $index == colorSelected}">          
          </div>
        </div>    
        <div class="content" id="panel-wheels">
          <h1>Wheels</h1>
<!--           <form>
            <input ng-click="addOption(<%=@wheel1%>)" class="wheel-radio" id="wheel1" name="wheel-radio" value="wheel1" type="radio" checked />Silver Heli Spoke
            <input ng-click="addOption(<%=@wheel2%>)" class="wheel-radio" id="wheel2" name="wheel-radio" value="wheel2" type="radio"  />Silver Loop Spoke
            <input ng-click="addOption(<%=@wheel3%>)" class="wheel-radio" id="wheel3" name="wheel-radio" value="wheel3" type="radio"  />Silver Victory Spoke
          </form> -->
        </div>
        <div class="content" id="panel-equipment">
          <h1>Equipment</h1>
<!--           <form>
            <input ng-click="toggleEquipment(<%=@equip1%>)" class="equipment" name="equipment" value="equipment1" type="checkbox" checked />Six Speed Automatic
            <input ng-click="toggleEquipment(<%=@equip2%>)" class="equipment" name="equipment" value="equipment2" type="checkbox"  />Chrome Line Exterior
            <input ng-click="toggleEquipment(<%=@equip3%>)" class="equipment" name="equipment" value="equipment3" type="checkbox"  />Sports Suspension
          </form> -->
        </div>
      </div>

		</div> <!-- customizer-left -->

		<div class="customizer-right large-3 columns">
			<div>
				<h1>Options</h1>
        <ul>
          <li ng-repeat="option in options track by $index">
            {{option.name}} -- {{option.price}}
          </li>
        </ul>
        <h3>Total MSRP: {{total | number:2}}</h3>
			</div>
		</div> <!-- customizer-right -->

</div>

<script>

// function buildViewportFrontal(model,color,wheel) {
//   //need to build the background css
//   var css = "";
//   css = css + 
// }

function buttonFront() {
  console.log("button1");
  $('.orbit-img-front').addClass("active"); 
  $('.orbit-img-back').removeClass("active"); 
  $('.orbit-img-interior').removeClass("active"); 
}

function buttonBack() {
  console.log("button2");
  $('.orbit-img-front').removeClass("active"); 
  $('.orbit-img-back').addClass("active"); 
  $('.orbit-img-interior').removeClass("active"); 
}

function buttonInt() {
  console.log("button3");
  $('.orbit-img-front').removeClass("active"); 
  $('.orbit-img-back').removeClass("active"); 
  $('.orbit-img-interior').addClass("active"); 
}

$('.color-red').click(function() {
  $('.color-red').addClass("color-selected");
  // $('#red-radio').prop("checked", true);
  $('.color-blue').removeClass("color-selected");
  $('.color-white').removeClass("color-selected");
});

$('.color-white').click(function() {
  $('.color-red').removeClass("color-selected");
  // $('#white-radio').prop("checked", true);
  $('.color-blue').removeClass("color-selected");
  $('.color-white').addClass("color-selected");
});

$('.color-blue').click(function() {
  $('.color-red').removeClass("color-selected");
  // $('#blue-radio').prop("checked", true);
  $('.color-blue').addClass("color-selected");
  $('.color-white').removeClass("color-selected");
});

</script>